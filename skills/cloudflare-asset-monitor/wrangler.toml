name = "cloudflare-asset-monitor"
main = "src/index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Durable Object for historical data
[[durable_objects.bindings]]
name = "ASSET_MONITOR"
class_name = "AssetMonitorDO"
script_name = "cloudflare-asset-monitor"

[[migrations]]
tag = "v1"
new_classes = ["AssetMonitorDO"]

# Cron trigger - every 5 minutes
[triggers]
crons = ["*/5 * * * *"]

# Secrets needed
# CLOUDFLARE_API_TOKEN - for asset discovery
# DISCORD_WEBHOOK_URL - for alerts (optional)
